(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{763:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),c=r(37),a=r(35),i=r(10),u=r(649),l=r(27);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,r,n,o,c,a){try{var i=e[c](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var c=e.apply(t,r);function a(e){y(c,n,o,a,i,"next",e)}function i(e){y(c,n,o,a,i,"throw",e)}a(void 0)}))}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,e);var t=d(r);function r(){var e;b(this,r);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return k(g(e=t.call.apply(t,[this].concat(c))),"state",{current_worker_id:"",current_worker_info:""}),k(g(e),"handleWorkerSelect",(function(t){e.state.current_worker_id===t.target.name?e.setState({current_worker_id:""}):e.setState({current_worker_id:t.target.name})})),k(g(e),"componentDidMount",m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return e.props.getWorkerList({params:{contractor_id:e.props.match.params.id},additional:!1,signal:e.abortController.signal})})).then((function(){return e.props.changeLoadingState()}));case 2:case"end":return t.stop()}}),t)})))),k(g(e),"componentWillUnmount",m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.abortController.abort(),t.next=3,e.props.clearList();case 3:case"end":return t.stop()}}),t)})))),k(g(e),"abortController",new window.AbortController),k(g(e),"render",(function(){return o.a.createElement(i.cb,null,o.a.createElement(i.r,null,o.a.createElement(i.g,null,o.a.createElement(i.j,null,o.a.createElement("strong",null,"Workers")),o.a.createElement(i.h,null,o.a.createElement(l.d,{loading:e.props.loading},e.props.workers?e.props.workers.map((function(t,r){return o.a.createElement(i.g,{key:"card-".concat(r),className:"mb-0"},o.a.createElement(i.j,{key:"ch-".concat(r),id:t.id},o.a.createElement("h5",{key:"h5-".concat(r),className:"m-0 p-0"},t.name),o.a.createElement("h6",{key:"h6-".concat(r),className:"m-0 p-0"},t.position_in_company),o.a.createElement(i.e,{key:"btn-".concat(r),block:!0,color:"link",className:"text-left m-0 p-0",id:t.id,value:t.id,name:t.id,onClick:e.handleWorkerSelect},"Display Details")),o.a.createElement(i.s,{key:"clps-".concat(r),show:e.state.current_worker_id===t.id.toString()},o.a.createElement(i.h,{key:"cbody-".concat(r)},o.a.createElement(u.d,{workerId:t.id}))))})):o.a.createElement("strong",null,"The contractor hasn't attached any workers yet."))))))})),e}return r}(n.Component);t.default=Object(c.b)((function(e){return{workers:e.entityListTable.tableData}}),(function(e){return{getProfileFetch:function(){return e(Object(a.j)())},getWorkerList:function(t){var r=f({},t);return e(Object(a.m)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r)))},clearList:function(){return e(Object(a.c)())}}}))(Object(l.c)(v))}}]);
//# sourceMappingURL=39.main.js.map