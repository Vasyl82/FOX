(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{648:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return me})),n.d(t,"b",(function(){return de})),n.d(t,"c",(function(){return ge}));var r=n(1),o=n.n(r),a=n(10),c=function(e){return o.a.createElement(a.I,e,e.linktext)},i=n(737),l=n.n(i),u=n(22);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=new u.a,O=o.a.createElement("div",{className:"pt-3 text-center"},o.a.createElement(a.lb,{size:"sm",variant:"grow",style:{width:"4rem",height:"4rem"}})),E=(r.Component,n(37)),j=n(35),_=n(27);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){k(a,r,o,c,i,"next",e)}function i(e){k(a,r,o,c,i,"throw",e)}c(void 0)}))}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=new u.a,L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(n,e);var t=R(n);function n(){var e;C(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return I(U(e=t.call.apply(t,[this].concat(c))),"state",{name:"",file:"",issued_by:""}),I(U(e),"downloadFile",D(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.downloadWorkerCompetency(e.props.competencyId).then((function(t){var n=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.href=n;var o=e.state.file.split("/").pop();r.setAttribute("download",o),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)})).catch((function(e){console.error("File download failed!"),console.error(e)}));case 1:case"end":return t.stop()}}),t)})))),I(U(e),"componentDidMount",D(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.getDetailsOf("worker_special_competencies",e.props.competencyId).then((function(t){return e.setState(x({},t))})).catch((function(e){return console.log(e)})).finally((function(){return e.props.changeLoadingState()}));case 2:case"end":return t.stop()}}),t)})))),I(U(e),"render",(function(){var t=e.state,n=t.name,r=t.issued_by;return o.a.createElement(_.d,{loading:e.props.loading},o.a.createElement(a.U,null,o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("strong",null,"Competency name: "),n),o.a.createElement(a.e,{variant:"outline",color:"success",id:"file",onClick:e.downloadFile},"Download scan")),o.a.createElement("p",null,o.a.createElement("strong",null,"Issued_by: "),r)))})),e}return n}(r.Component),A=Object(E.b)(null,(function(e){return{getProfileFetch:function(){return e(Object(j.j)())}}}))(Object(_.c)(L));function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){W(a,r,o,c,i,"next",e)}function i(e){W(a,r,o,c,i,"throw",e)}c(void 0)}))}}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=new u.a,K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(n,e);var t=G(n);function n(){var e;H(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return Y(V(e=t.call.apply(t,[this].concat(c))),"state",{showCompetencies:!1,competencies:[]}),Y(V(e),"handleShowCompetencies",(function(){var t=e.state.showCompetencies;e.setState({showCompetencies:!t})})),Y(V(e),"componentDidMount",q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return $.getEntityList("worker_special_competencies",{worker_id:e.props.workerId},e.abortController.signal)})).then((function(t){e.setState({competencies:t})})).catch((function(e){console.log(e)})).finally(e.props.changeLoadingState);case 2:case"end":return t.stop()}}),t)})))),Y(V(e),"componentWillUnmount",q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.abortController.abort(),t.next=3,e.props.clearList();case 3:case"end":return t.stop()}}),t)})))),Y(V(e),"abortController",new window.AbortController),Y(V(e),"render",(function(){var t=e.state,n=t.showCompetencies,r=t.competencies;return o.a.createElement(_.d,{loading:e.props.loading},e.state.competencies.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Special competencies:")),o.a.createElement(a.e,{block:!0,color:"link",className:"text-left m-0 p-0",name:n,onClick:e.handleShowCompetencies},"Display Details"),o.a.createElement(a.r,{show:n},o.a.createElement(a.T,null,r.map((function(e,t){return o.a.createElement(A,{key:"cbody-".concat(t),competencyId:e.id})}))))):o.a.createElement("p",null,"The contractor hasn't attached any competencies yet."))})),e}return n}(r.Component),Q=Object(E.b)(null,(function(e){return{getProfileFetch:function(){return e(Object(j.j)())},clearList:function(){return e(Object(j.c)())}}}))(Object(_.c)(K));function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){ne(a,r,o,c,i,"next",e)}function i(e){ne(a,r,o,c,i,"throw",e)}c(void 0)}))}}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?le(e):t}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=new u.a,pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(n,e);var t=ce(n);function n(){var e;oe(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return se(le(e=t.call.apply(t,[this].concat(c))),"state",{name:"",contractor:e.props.contractor,birthday:"",card_number_id:"",license_number:"",license_scan:"",passport:"",passport_scan:"",safety_green_card:"",safety_green_card_scan:"",position_in_company:"",safety_quiz_answer:"",personal_declaration:"",special_competency:"",special_competency_scan:"",registration_number:"",filename:"",doc_type:""}),se(le(e),"downloadFile",function(){var t=re(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({filename:n.target.value,doc_type:n.target.name},(function(){fe.downloadWorkerDocument(e.props.workerId,e.state.doc_type).then((function(t){var n=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.href=n;var o=e.state.filename.split("/").pop();r.setAttribute("download",o),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)})).catch((function(e){console.error("File download failed!"),console.error(e)}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),se(le(e),"componentDidMount",re(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe.getDetailsOf("workers",e.props.workerId).then((function(t){return e.setState(te({},t))})).catch((function(e){return console.log(e)})).finally(e.props.changeLoadingState);case 2:case"end":return t.stop()}}),t)})))),se(le(e),"render",(function(){return o.a.createElement(_.d,{loading:e.props.loading},o.a.createElement(a.T,{flush:!0},o.a.createElement(a.U,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Birthday: "),e.state.birthday)),o.a.createElement(a.U,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Card number ID: "),e.state.card_number_id)),o.a.createElement(a.U,null,o.a.createElement("p",null,o.a.createElement("strong",null,"License Number: "),e.state.license_number),o.a.createElement(a.e,{variant:"outline",color:"success",id:"license_scan",name:"license_scan",value:e.state.license_scan,onClick:e.downloadFile},"Download")),o.a.createElement(a.U,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Passport: "),e.state.passport),o.a.createElement(a.e,{variant:"outline",color:"success",id:"passport_scan",name:"passport_scan",value:e.state.passport_scan,onClick:e.downloadFile},"Download")),o.a.createElement(a.U,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Safety Green Card: "),e.state.safety_green_card),o.a.createElement(a.e,{variant:"outline",color:"success",id:"safety_green_card_scan",name:"safety_green_card_scan",value:e.state.safety_green_card_scan,onClick:e.downloadFile},"Download")),o.a.createElement(a.U,null,o.a.createElement(Q,{workerId:e.props.workerId})),o.a.createElement(a.U,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Position in Company: "),e.state.position_in_company)),o.a.createElement(a.U,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Safety quiz answer: ")),o.a.createElement(a.e,{variant:"outline",color:"success",id:"safety_quiz_answer",name:"safety_quiz_answer",value:e.state.safety_quiz_answer,onClick:e.downloadFile},"Download")),o.a.createElement(a.U,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Personal declaration: ")),o.a.createElement(a.e,{variant:"outline",color:"success",id:"personal_declaration",name:"personal_declaration",value:e.state.personal_declaration,onClick:e.downloadFile},"Download"))))})),e}return n}(r.Component),me=Object(E.b)(null,(function(e){return{getProfileFetch:function(){return e(Object(j.j)())}}}))(Object(_.c)(pe)),de=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mb-2 "},o.a.createElement("strong",null,e.groupLabel)),e.options.map((function(t,n){return o.a.createElement(a.C,{className:"d-flex align-items-center",key:n},o.a.createElement(a.nb,{className:"mr-2",id:t,name:t,value:t,shape:"pill",variant:"3d",color:"success",size:"sm",onChange:e.handleCheck,checked:e.parentState[t],disabled:e.disabled,readOnly:e.readOnly}),o.a.createElement(a.R,{variant:"checkbox",className:"form-check-label",htmlFor:t},t.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")))})))},ye=n(26);function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we=864e5,ve=function(e){return!0===e?"font-weight-bold":""},ge=Object(E.b)(null,(function(e){return{readNotification:function(t){return e(Object(j.q)(t))}}}))(Object(ye.h)((function(e){var t=function(e){var t=new Date(e),n=new Date-t;if(n<6e4)return"Now";if(n<3e5){var r=Math.round(n/6e4);return"".concat(r," minutes ago")}if(n<we)return new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit"}).format(t);if(n<5*we){var o=Math.round(n/we);return o<2?"yesterday":"".concat(o," days ago")}return n<31536e6?new Intl.DateTimeFormat([],{day:"2-digit",month:"short"}).format(t):(new Intl.DateTimeFormat).format(t)}(e.notification.emitted);return o.a.createElement("div",{className:"message w-100",onClick:function(){return t=[e.notification,e.readNotification],n=be(t,2),r=n[0],o=n[1],void(r.unread&&o(r.id));var t,n,r,o}},o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement("small",{className:"text-muted mt-1 ".concat(ve(e.notification.unread))},t)),o.a.createElement("div",{className:"text-truncate font-weight-bold"}),o.a.createElement("div",{className:"text-muted text-truncate ".concat(ve(e.notification.unread))},e.notification.text))})))},687:function(e,t){},774:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(26),c=n(37),i=n(35),l=n(10),u=(n(687),n(64)),s=o.a.lazy((function(){return n.e(8).then(n.bind(null,743))})),f=o.a.lazy((function(){return n.e(13).then(n.bind(null,744))})),p=o.a.lazy((function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,745))})),m=o.a.lazy((function(){return n.e(5).then(n.bind(null,746))})),d=o.a.lazy((function(){return n.e(14).then(n.bind(null,747))})),y=o.a.lazy((function(){return n.e(7).then(n.bind(null,748))})),b=o.a.lazy((function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,749))})),h=o.a.lazy((function(){return n.e(17).then(n.bind(null,750))})),w=o.a.lazy((function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,751))})),v=o.a.lazy((function(){return n.e(10).then(n.bind(null,752))})),g=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(22)]).then(n.bind(null,753))})),O=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(23)]).then(n.bind(null,754))})),E=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(21)]).then(n.bind(null,755))})),j=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(11)]).then(n.bind(null,756))})),_=o.a.lazy((function(){return n.e(15).then(n.bind(null,757))})),P=o.a.lazy((function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,758))})),S=o.a.lazy((function(){return Promise.all([n.e(0),n.e(27)]).then(n.bind(null,759))})),x=o.a.lazy((function(){return n.e(16).then(n.bind(null,760))})),k=o.a.lazy((function(){return Promise.all([n.e(0),n.e(28)]).then(n.bind(null,761))})),D=o.a.lazy((function(){return n.e(39).then(n.bind(null,762))})),C=o.a.lazy((function(){return n.e(6).then(n.bind(null,763))})),N=o.a.lazy((function(){return Promise.all([n.e(0),n.e(29)]).then(n.bind(null,764))})),R=o.a.lazy((function(){return Promise.all([n.e(0),n.e(30)]).then(n.bind(null,765))})),z=o.a.lazy((function(){return n.e(35).then(n.bind(null,766))})),U=o.a.lazy((function(){return Promise.all([n.e(0),n.e(34)]).then(n.bind(null,767))})),F=o.a.lazy((function(){return Promise.all([n.e(0),n.e(38)]).then(n.bind(null,768))})),I=o.a.lazy((function(){return Promise.all([n.e(0),n.e(26)]).then(n.bind(null,769))})),T=[{path:"/",exact:!0,name:"Fox"},{path:"/projects",name:"Projects",component:s,exact:!0},{path:"/projects/new",name:"New",component:E,exact:!0},{path:"/projects/:id/ptw",name:"PTW",component:_,exact:!0},{path:"/projects/:id/documents",name:"Documents",component:C,exact:!0},{path:"/projects/:id/documents/new",name:"New",component:N,exact:!1},{path:"/projects/:id/documents/:doc_id",name:"Document Details",component:R,exact:!1},{path:"/safety/presets",name:"Safety Presets",component:U,exact:!0},{path:"/safety/video",name:"Safety Video",component:z,exact:!0},{path:"/projects/:id/assign_workers",name:"Assign Workers",component:F,exact:!0},{path:"/projects/:id/submit_proposal",name:"Submit Proposal",component:o.a.lazy((function(){return n.e(33).then(n.bind(null,770))})),exact:!0},{path:"/projects/:id/related_documents",name:"Related Documents",component:P,exact:!0},{path:"/projects/:id",name:"Project Details",component:j,exact:!1},{path:"/approvals",name:"Approvals",component:f,exact:!0},{path:"/documents",name:"Documents",component:I,exact:!0},{path:"/approvals/:id",name:"Approval Details",component:p,exact:!0},{path:"/current-works",name:"Current Works",component:d,exact:!0},{path:"/contractors",name:"Contractors",component:m,exact:!0},{path:"/contractors/new",name:"New",component:S,exact:!0},{path:"/contractors/:id",name:"Contractor Details",component:x,exact:!0},{path:"/contractors/:id/edit",name:"Contractor Edition",component:k,exact:!0},{path:"/contractors/:id/workers_review",name:"Workers Review",component:D,exact:!0},{path:"/managers",name:"Managers",component:y,exact:!0},{path:"/managers/new",name:"New",component:b,exact:!0},{path:"/managers/:id",name:"Manager Details",component:h,exact:!0},{path:"/managers/:id/edit",name:"Manager Edition",component:w,exact:!0},{path:"/workers",name:"Workers",component:v,exact:!0},{path:"/workers/new",name:"New",component:g,exact:!0},{path:"/workers/:id",name:"Worker Details",component:O,exact:!0},{path:"/workers/:id/competencies",name:"Spec. Competencies",component:o.a.lazy((function(){return n.e(9).then(n.bind(null,771))})),exact:!0},{path:"/workers/:id/competencies/new",name:"New Competency",component:o.a.lazy((function(){return Promise.all([n.e(0),n.e(36)]).then(n.bind(null,772))})),exact:!0},{path:"/workers/:id/competencies/:competency_id",name:"Competency Details",component:o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(37)]).then(n.bind(null,773))})),exact:!0}],L=n(648),A=Object(c.b)((function(e){return{navigation:e.headerNav,company:e.company}}))((function(e){var t=Object(c.c)(),n=Object(c.d)((function(e){return e.sidebarShow}));return o.a.createElement(l.E,{withSubheader:!0},o.a.createElement(l.pb,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var e=!![!1,"responsive"].includes(n)||"responsive";t({type:"set",sidebarShow:e})}}),o.a.createElement(l.pb,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var e=![!0,"responsive"].includes(n)&&"responsive";t({type:"set",sidebarShow:e})}}),o.a.createElement(l.F,{className:"mx-auto d-lg-none",to:"/"}),o.a.createElement(l.G,{className:"mr-auto"},o.a.createElement(l.t,{items:e.navigation,components:{CHeaderNavItem:l.H,CHeaderNavLink:l.I,FoxHeaderNavLink:L.a}})),o.a.createElement(l.G,{className:"px-3"},o.a.createElement(ee,null),o.a.createElement(H,null)),o.a.createElement(l.mb,{className:"px-3 justify-content-between"},o.a.createElement(l.d,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:T})))}));function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var H=Object(c.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return{logoutUser:function(){return e(Object(i.n)())},updateModal:function(t){var n=t.modalType,r=q(t,["modalType"]);return e(Object(i.t)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({modalType:n},r)))}}}))((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.v,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down"},o.a.createElement(l.y,{className:"c-header-nav-link",caret:!1},o.a.createElement(u.a,{name:"cil-settings"})),o.a.createElement(l.x,{className:"pt-0",placement:"bottom-end"},o.a.createElement(l.w,{header:!0,tag:"div",color:"light",className:"text-center"},o.a.createElement("strong",null,"Settings")),o.a.createElement(l.w,{onClick:function(){e.updateModal({modalType:"resetPasswordModal",email:e.currentUser.email})}},o.a.createElement(u.a,{name:"cil-lock-locked",className:"mfe-2"}),"Change password"),o.a.createElement(l.w,{divider:!0}),o.a.createElement(l.w,{onClick:function(t){t.preventDefault(),e.logoutUser()}},o.a.createElement(u.a,{name:"cil-account-logout",className:"mfe-2"}),"Logout"))))})),B=function(e){var t=e.items.filter((function(e){return e.unread})).length;return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{name:"cil-bell"}),t>0?o.a.createElement(l.a,{shape:"pill",color:"info"},t):null)};function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(n,e);var t=X(n);function n(){var e;J(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return Q($(e=t.call.apply(t,[this].concat(a))),"state",{timer:""}),Q($(e),"componentDidMount",(function(){e.props.getNotifications();var t=setInterval(e.props.getNotifications,6e4);e.setState({timer:t})})),Q($(e),"componentWillUnmount",(function(){clearInterval(e.state.timer)})),Q($(e),"render",(function(){return o.a.createElement(l.v,{inNav:!0,className:"c-header-nav-item mx-2",direction:"down"},o.a.createElement(l.y,{className:"c-header-nav-link",caret:!1},o.a.createElement(B,{items:e.props.notifications})),o.a.createElement(l.x,{className:"pt-0",placement:"bottom-end"},e.props.notifications.length>0?e.props.notifications.map((function(e){return o.a.createElement(l.w,{key:e.id,href:e.forward_link},o.a.createElement(L.c,{notification:e}))})):o.a.createElement(l.w,{href:"#"},o.a.createElement("div",{className:"text-muted text-truncate"},"You have no messages yet."))))})),e}return n}(r.Component),ee=Object(c.b)((function(e){return{notifications:e.notifications}}),(function(e){return{getNotifications:function(){return e(Object(i.i)())}}}))(Z),te=Object(c.b)((function(e){return{navigation:e.sidebar,company:e.currentUser.company_name,projectId:e.projectId}}))(o.a.memo(Object(a.h)((function(e){var t=Object(c.c)(),n=Object(c.d)((function(e){return e.sidebarShow}));return o.a.createElement(l.db,{show:n,onShowChange:function(e){return t({type:"set",sidebarShow:e})}},o.a.createElement(l.eb,{className:"d-md-down-none",to:"/"},o.a.createElement("h2",null,e.company?e.company:"FOX")),o.a.createElement(l.gb,null,e.projectId?o.a.createElement(l.t,{items:e.navigation,components:{CSidebarNavDivider:l.hb,CSidebarNavDropdown:l.ib,CSidebarNavItem:l.jb,CSidebarNavTitle:l.kb}}):null),o.a.createElement(l.fb,{className:"c-d-md-down-none"}))})))),ne=n(27),re=o.a.lazy((function(){return n.e(3).then(n.bind(null,741))})),oe=function(e){return o.a.createElement("main",{className:"c-main"},o.a.createElement(l.s,{fluid:!0},o.a.createElement(r.Suspense,{fallback:o.a.createElement(ne.a,null)},o.a.createElement(a.d,null,T.map((function(e,t){return e.component&&o.a.createElement(a.b,{key:t,path:e.path,exact:e.exact,name:e.name,render:function(t){return o.a.createElement(l.A,null,o.a.createElement(e.component,t))}})})),o.a.createElement(a.a,{from:"/",to:"/projects"}),o.a.createElement(o.a.Fragment,null,o.a.createElement(re,null))))))},ae=Object(c.b)((function(e){return{role:e.currentUser.role}}),null)(o.a.memo(oe));function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?pe(e):t}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(i,e);var t,n,r,c=se(i);function i(){var e;ie(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return de(pe(e=c.call.apply(c,[this].concat(n))),"componentDidMount",(function(){e.props.getProfileFetch().then((function(){return e.props.getDashboardLayout(e.props.currentUser.role,e.props.match.params.id)})).then((function(){return e.props.changeLoadingState()})).catch((function(t){return console.log(t),e.props.changeLoadingState()}))})),de(pe(e),"componentDidUpdate",(function(t){var n=Object(a.f)(e.props.location.pathname,{path:"/projects/:id",exact:!0});n&&t.location.pathname!=e.props.location.pathname&&e.props.getDashboardLayout(e.props.currentUser.role,n.params.id)})),e}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(ne.d,{loading:this.props.loading},this.props.currentUser.username?o.a.createElement("div",{className:"c-app c-default-layout"},o.a.createElement(te,null),o.a.createElement("div",{className:"c-wrapper"},o.a.createElement(A,null),o.a.createElement("div",{className:"c-body"},o.a.createElement(ae,null)))):o.a.createElement(a.a,{to:"/login"}))}}])&&le(t.prototype,n),r&&le(t,r),i}(r.Component);t.default=Object(c.b)((function(e){return{currentUser:e.currentUser,navigation:e.sidebar}}),(function(e){return{getProfileFetch:function(){return e(Object(i.j)())},getDashboardLayout:function(t,n){return e(Object(i.g)(t,n))}}}))(Object(ne.c)(ye))}}]);
//# sourceMappingURL=12.main.js.map